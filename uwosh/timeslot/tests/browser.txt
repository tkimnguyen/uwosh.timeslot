Browser tests for uwosh.timeslot.
A lot was copied from Products.Poi
==========================

To create a signup sheet we need to login in as a manager and create several
different content types.

We start a test browser::

    >>> from Products.Five.testbrowser import Browser
    >>> browser = Browser()
    >>> browser.handleErrors = False
    >>> browser.addHeader('Accept-Language', 'en-US')
    >>> self.portal.error_log._ignored_exceptions = ()

We log in::

    >>> browser.open(portal.absolute_url() + '/login_form')
    >>> browser.getLink('Log in').click()
    >>> browser.getControl(name='__ac_name').value = 'test_user_1_'
    >>> browser.getControl(name='__ac_password').value = 'secret'
    >>> browser.getControl(name='submit').click()
    >>> 'You are now logged in' in browser.contents
    True
    
And make ourselves manager::

    >>> self.setRoles(['Manager'])


Let's create a signup sheet::
    >>> url = self.portal.absolute_url()
    >>> browser.open(url)
    >>> browser.open(url + '/createObject?type_name=Signup+Sheet')
    >>> browser.getControl(name='title').value = 'Test Signup Sheet'
    >>> browser.getControl(name='form_submit').click()
    >>> 'Changes saved.' in browser.contents
    True
    >>> signupSheet = self.portal['test-signup-sheet']
    
We'll add a day to it::
    >>> url = signupSheet.absolute_url()
    >>> browser.open(url + '/createObject?type_name=Day')
    >>> browser.getControl(name='title').value = 'Mon, Oct 13'
    >>> browser.getControl(name='form_submit').click()
    >>> 'Changes saved.' in browser.contents
    True
     >>> day = signupSheet['mon-oct-13']
     
And to the day we'll add a timeslot::
    >>> url = day.absolute_url()
    >>> browser.open(url + '/createObject?type_name=Time+Slot')
    >>> browser.getControl(name='title').value = '12:30 - 3:00'
    >>> browser.getControl(name='maxCapacity').value = '3'
    >>> browser.getControl(name='allowWaitingList:boolean').value = 'off'
    >>> browser.getControl(name='form_submit').click()
    >>> 'Changes saved.' in browser.contents
    True
     >>> timeSlot = day['12-30-3-00']
     

Now we should have a signup sheet that is ready to go and that will allow any
authenticated member of your website signup for it.
