<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="uwosh.timeslot">

<body>
    <div metal:fill-slot="main">
        <tal:main-macro metal:define-macro="main">

        <form method="post" tal:attributes="action string:${context/absolute_url}/submit-user-selection;">

            <h2 tal:content="string:${context/Title} - Choose a Date and Time" />
            
            <table class="plain">
                <tal:block tal:repeat="day context/getDays">
                    <tr style="background-color: #F0F0F0">
                        <th style="border: none">
                            <h3 tal:content="day/Title" />
                        </th>
                        <th style="border: none" colspan="3"/>
                    </tr>
                    
                    <tr>
                        <th />
                        <th>Time</th>
                        <th>Available Spots</th>
                        <th>Select</th>
                    </tr>
                    
                    <tr tal:repeat="timeSlot day/getTimeSlots">
                        <td />
                        <td tal:content="timeSlot/Title" />
                        <td>
                            <span tal:content="timeSlot/getNumberOfAvailableSpots" />
                            <span tal:condition="timeSlot/getAllowWaitingList">
                                + Waiting List
                            </span>
                        </td>
                        <td align="center" tal:define="userAlreadySignedup timeSlot/isCurrentUserSignedUpForThisSlot" >
                            <span tal:condition="userAlreadySignedup">
                                -&gt; Your Slot &lt;-
                            </span>
                            
                            <span tal:condition="not:userAlreadySignedup" tal:define="full timeSlot/isFull">
                                <input tal:condition="not:full" type="radio" name="slotSelection"
                                       tal:attributes="value timeSlot/getLabel" /> 
                                <p tal:condition="full">Full</p>
                            </span>
                        </td>
                    </tr>
                    
                </tal:block>
            </table>
            
            <br />
            <div id="optionalInfo">
                <h3>Optional Information</h3>
                
                <br />
                <label style="float:left; width:11em" for="phone">Campus Phone: </label>
                <input type="text" id="phone" name="phone" /><br /><br />
                
                <label style="float:left; width:11em" for="classification">Classification Type: </label>
                <select id="classification" size="1" name="classification">
                    <option value="" selected="selected">Select Classification Type</option>
                    <option value="Academic">Academic Staff</option>
                    <option value="Classified">Classified Staff</option>
                    <option value="Faculty">Faculty</option>
                    <option value="LTE">Limited Term Employee</option>
                    <option value="Other">Other</option>
                    <option value="Spouse - Faculty">Spouse - Faculty</option>
                    <option value="Student">Student</option>
                </select><br /><br />
                
                <label style="float:left; width:11em" for="dept">Department: </label>
                <input type="text" id="dept" name="dept" /><br /><br /><br />
            </div>
            
            <input type="submit" name="form.button.submit" value="Submit" />
            <input type="hidden" name="form.submitted" value="1" />
            <input tal:attributes="value member" type="hidden" name="memberToAssign" />
        </form>
        
        </tal:main-macro>
    </div>
</body>
</html>
